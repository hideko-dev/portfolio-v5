import{s as j,n as S,o as F}from"../chunks/scheduler.0d2f776c.js";import{S as N,i as O,e as v,s as E,c as m,a as y,q as x,f as k,d as g,r as u,g as V,h as f,u as z,t as M,b as P,j as $}from"../chunks/index.5fa6eb88.js";import{e as T}from"../chunks/each.e59479a4.js";import{c as B}from"../chunks/works.daa1dc1c.js";function Y(o,e,l){const n=o.slice();return n[1]=e[l],n}function q(o){let e,l,n=H(o[1].createdAt)+"",h,d,r,s=o[1].title+"",a,_,t,i=L(new Date,o[1].createdAt)+"",D,A,w;return{c(){e=v("a"),l=v("p"),h=M(n),d=E(),r=v("p"),a=M(s),_=E(),t=v("p"),D=M(i),A=E(),this.h()},l(p){e=m(p,"A",{class:!0,href:!0});var c=y(e);l=m(c,"P",{class:!0});var b=y(l);h=P(b,n),b.forEach(g),d=k(c),r=m(c,"P",{class:!0});var C=y(r);a=P(C,s),C.forEach(g),_=k(c),t=m(c,"P",{class:!0});var I=y(t);D=P(I,i),I.forEach(g),A=k(c),c.forEach(g),this.h()},h(){u(l,"class","y svelte-1rrgy8n"),u(r,"class","t svelte-1rrgy8n"),u(t,"class","a svelte-1rrgy8n"),u(e,"class","content svelte-1rrgy8n"),u(e,"href",w="works/"+o[1].id)},m(p,c){V(p,e,c),f(e,l),f(l,h),f(e,d),f(e,r),f(r,a),f(e,_),f(e,t),f(t,D),f(e,A)},p(p,c){c&1&&n!==(n=H(p[1].createdAt)+"")&&$(h,n),c&1&&s!==(s=p[1].title+"")&&$(a,s),c&1&&i!==(i=L(new Date,p[1].createdAt)+"")&&$(D,i),c&1&&w!==(w="works/"+p[1].id)&&u(e,"href",w)},d(p){p&&g(e)}}}function G(o){let e,l,n,h='<p class="date svelte-1rrgy8n">date</p> <p class="title">title</p> <p class="ago svelte-1rrgy8n">ago</p>',d,r=T(o[0]),s=[];for(let a=0;a<r.length;a+=1)s[a]=q(Y(o,r,a));return{c(){e=v("section"),l=v("div"),n=v("div"),n.innerHTML=h,d=E();for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=m(a,"SECTION",{class:!0});var _=y(e);l=m(_,"DIV",{class:!0});var t=y(l);n=m(t,"DIV",{class:!0,"data-svelte-h":!0}),x(n)!=="svelte-1teptle"&&(n.innerHTML=h),d=k(t);for(let i=0;i<s.length;i+=1)s[i].l(t);t.forEach(g),_.forEach(g),this.h()},h(){u(n,"class","titles svelte-1rrgy8n"),u(l,"class","contents svelte-1rrgy8n"),u(e,"class","svelte-1rrgy8n")},m(a,_){V(a,e,_),f(e,l),f(l,n),f(l,d);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(l,null)},p(a,[_]){if(_&1){r=T(a[0]);let t;for(t=0;t<r.length;t+=1){const i=Y(a,r,t);s[t]?s[t].p(i,_):(s[t]=q(i),s[t].c(),s[t].m(l,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=r.length}},i:S,o:S,d(a){a&&g(e),z(s,a)}}}function H(o){return new Date(o).getFullYear()}function L(o,e){const l=new Date(o),n=new Date(e),h=l-n,d=Math.floor(h/(1e3*60*60*24)),r=Math.floor(d/365);return r<1?d+"d ago":r+"y ago"}function J(o,e,l){let n=[];return F(async()=>{const h=await B.get({endpoint:"works"});l(0,n=h.contents)}),[n]}class W extends N{constructor(e){super(),O(this,e,J,G,j,{})}}export{W as component};
